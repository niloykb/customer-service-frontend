<div class="dialog-header">
    <h2 mat-dialog-title [innerHTML]="modalTitle"></h2>
    <button mat-mini-fab (click)="onCloseModal()">
        <mat-icon>close</mat-icon>
    </button>
</div>
<mat-dialog-content>
    <form #customerFormGroup="ngForm" [formGroup]="customerForm" (ngSubmit)="onSubmit()">
        <input type="number" formControlName="id" hidden>
        <!-- Name Input -->
        <mat-form-field>
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" placeholder="Enter customer name">
            <mat-icon matSuffix>person</mat-icon>
            <mat-error>Name is required.</mat-error>
        </mat-form-field>

        <!-- Email Input -->
        <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" placeholder="Enter customer email">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>
                @if( email?.hasError?.('required')) {
                Email is required.
                }
                @if( email?.hasError?.('email')) {
                Invalid email.
                }
            </mat-error>
        </mat-form-field>

        <!-- Type Input -->
        <mat-form-field>
            <mat-label>Type</mat-label>
            <mat-select formControlName="type">
                <mat-option value="i">Individual</mat-option>
                <mat-option value="b">Business</mat-option>
            </mat-select>
            <mat-error>Type is required.</mat-error>
        </mat-form-field>
        <div class="form-row">
            <!-- City Input -->
            <mat-form-field>
                <mat-label>City</mat-label>
                <input matInput formControlName="city" placeholder="Enter customer city">
                <mat-error>City is required.</mat-error>
            </mat-form-field>
            <!-- State Input -->
            <mat-form-field>
                <mat-label>State</mat-label>
                <input matInput formControlName="state" placeholder="Enter customer state">
                <mat-icon matSuffix>state</mat-icon>
                <mat-error>State is required.</mat-error>
            </mat-form-field>
        </div>

        <!-- Postal Code Input -->
        <mat-form-field>
            <mat-label>Postal Code</mat-label>
            <input matInput formControlName="postalCode" placeholder="Enter customer postal code">
            <mat-icon matSuffix>location_on</mat-icon>
            <mat-error>Postal Code is required.</mat-error>
        </mat-form-field>

        <!-- Address Input -->
        <mat-form-field>
            <mat-label>Address</mat-label>
            <textarea matInput formControlName="address" placeholder="Enter customer address"></textarea>
            <mat-error>Address is required.</mat-error>
        </mat-form-field>
    </form>
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-button (click)="onCloseModal()" type="button">Cancel</button>
    <button mat-button cdkFocusInitial type="submit" (click)="customerFormGroup.ngSubmit.emit()"
        [disabled]="isSubmitting">{{isSubmitting?'Submitting' : 'Submit'}}
    </button>
</mat-dialog-actions>